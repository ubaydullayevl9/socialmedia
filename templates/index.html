<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>InstaLite ‚Äî –õ–µ–Ω—Ç–∞</title>
  <style>
    :root{
      --bg:#fff;--text:#111;--muted:#777;--line:#eaeaea;--card:#fff;--primary:#0095f6;--like:#ff3040;
    }
    @media (prefers-color-scheme:dark){
      :root{--bg:#0c0c0d;--text:#f4f4f5;--muted:#a1a1aa;--line:#222;--card:#111;--primary:#55aaff}
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;background:var(--bg);color:var(--text);font:14px/1.4 system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif}

    /* Header */
    .header{position:sticky;top:0;z-index:10;background:var(--bg);border-bottom:1px solid var(--line)}
    .header__inner{max-width:980px;margin:0 auto;display:flex;align-items:center;gap:12px;padding:10px 16px}
    .logo{font-weight:800;letter-spacing:.3px}
    .search{flex:1;position:relative}
    .search input{width:100%;padding:9px 32px 9px 12px;border:1px solid var(--line);border-radius:10px;background:var(--card);color:var(--text)}
    .search svg{position:absolute;right:8px;top:50%;transform:translateY(-50%);opacity:.6}
    .actions{display:flex;gap:10px}
    .icon-btn{border:1px solid var(--line);background:var(--card);border-radius:10px;padding:8px;display:grid;place-items:center;cursor:pointer}
    .icon-btn:active{transform:scale(.98)}

    /* Layout */
    .page{max-width:980px;margin:0 auto;display:grid;grid-template-columns:1fr;gap:16px;padding:16px}
    @media(min-width:992px){.page{grid-template-columns:1fr 340px}}

    /* Stories */
    .stories{background:var(--card);border:1px solid var(--line);border-radius:14px;padding:12px;overflow:hidden}
    .stories__row{display:flex;gap:14px;overflow:auto;scroll-snap-type:x mandatory;padding-bottom:6px}
    .story{scroll-snap-align:start;flex:0 0 auto;width:74px;text-align:center}
    .story__ring{width:64px;height:64px;border-radius:50%;padding:2px;background:conic-gradient(#ff7a59,#ffcd3c,#7cff59,#59eeff,#ad59ff,#ff7a59)}
    .story__ring--seen{filter:grayscale(1) opacity(.6)}
    .story__avatar{width:100%;height:100%;border-radius:50%;display:block;border:3px solid var(--card);object-fit:cover}
    .story__name{margin-top:6px;font-size:12px;color:var(--muted);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}

    /* Feed */
    .feed{display:flex;flex-direction:column;gap:16px}
    .post{background:var(--card);border:1px solid var(--line);border-radius:14px;overflow:hidden}
    .post__head{display:flex;align-items:center;gap:10px;padding:12px 14px;border-bottom:1px solid var(--line)}
    .post__avatar{width:36px;height:36px;border-radius:50%;object-fit:cover}
    .post__user{font-weight:600}
    .post__meta{font-size:12px;color:var(--muted)}
    .post__img-wrap{position:relative;background:#000}
    .post__img{width:100%;display:block;object-fit:cover;max-height:80vh}
    .post__heart{position:absolute;inset:0;display:grid;place-items:center;pointer-events:none;opacity:0;transition:opacity .25s ease}
    .post__heart svg{transform:scale(1.6);filter:drop-shadow(0 6px 18px rgba(0,0,0,.35))}
    .post__actions{display:flex;align-items:center;gap:8px;padding:8px 10px}
    .left-actions{display:flex;gap:6px}
    .post__btn{background:transparent;border:0;cursor:pointer;padding:8px;border-radius:10px}
    .post__btn:active{transform:scale(.98)}
    .post__likes{font-weight:600;padding:0 14px}
    .post__caption{padding:4px 14px 10px}
    .post__time{padding:0 14px 12px;color:var(--muted);font-size:12px}
    .post__comment{display:flex;gap:8px;border-top:1px solid var(--line);padding:10px 12px}
    .post__comment input{flex:1;border:0;background:transparent;color:var(--text);outline:none}
    .post__comment button{border:0;background:transparent;color:var(--primary);font-weight:700;opacity:.6}
    .post__comment button.enabled{opacity:1;cursor:pointer}

    /* Right column (suggestions placeholder) */
    .aside{position:sticky;top:64px;height:fit-content;display:none}
    @media(min-width:992px){.aside{display:block}}
    .card{background:var(--card);border:1px solid var(--line);border-radius:14px;padding:14px}
    .muted{color:var(--muted)}
    a{color:inherit}
  </style>
</head>
<body>
  <!-- Header -->
  <header class="header" aria-label="–ì–ª–∞–≤–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è">
    <div class="header__inner">
      <div class="logo">InstaLite</div>
      <div class="search">
        <input id="search" type="search" placeholder="–ü–æ–∏—Å–∫" aria-label="–ü–æ–∏—Å–∫" />
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M21 21l-4.35-4.35" stroke="currentColor" stroke-width="2" stroke-linecap="round"/><circle cx="11" cy="11" r="7" stroke="currentColor" stroke-width="2"/></svg>
      </div>
      <div class="actions">
        <button class="icon-btn" title="–î–æ–º–æ–π" aria-label="–î–æ–º–æ–π">üè†</button>
        <button class="icon-btn" title="–°–æ–∑–¥–∞—Ç—å" aria-label="–°–æ–∑–¥–∞—Ç—å">‚ûï</button>
        <button class="icon-btn" title="–ü—Ä–æ—Ñ–∏–ª—å" aria-label="–ü—Ä–æ—Ñ–∏–ª—å">üë§</button>
      </div>
    </div>
  </header>


  <main class="page">
    <section>
      <!-- Stories -->
      <div class="stories" aria-label="–°—Ç–æ—Ä–∏—Å">
        <div class="stories__row" id="storiesRow"></div>
      </div>

      <!-- Feed -->
      <div class="feed" id="feed" aria-live="polite">
  {% for p in posts %}
          <article class="post" data-id="{{ p.id }}">
            <header class="post__head">
              <div>
                <div class="post__user">{{p.user.username}}</div>
                <div class="post__user">{{p.main_text}}</div>
                <div class="post__meta">{{p.reg_date}}</div>
              </div>
            </header>
              <a href="/{{p.id}}"></a>

            <div class="post__comment">
              <input type="text" placeholder="–î–æ–±–∞–≤—å—Ç–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π‚Ä¶" aria-label="–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π" />
              <button type="button" disabled>–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å</button>
            </div>
          </article>
        {% endfor %}
      </div>
    </section>

    <aside class="aside" aria-label="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ">
      <div class="card">
        <strong>–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</strong>
        <p class="muted">–ü–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä –¥–ª—è –±–ª–æ–∫–∞ —Å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –ø–æ–¥—Å–∫–∞–∑–∫–∞–º–∏. –î–æ–±–∞–≤—å—Ç–µ —Å—é–¥–∞ –≤–∏–¥–∂–µ—Ç—ã –ø–æ–∑–∂–µ.</p>
      </div>
    </aside>
  </main>


</body>
</html>